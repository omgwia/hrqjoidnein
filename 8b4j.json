{
  "log": { "level": "fatal", "timestamp": false },

  "dns": {
    "fakeip": {
      "enabled": true,
      "inet4_range": "198.18.0.0/15",
      "inet6_range": "fc00::/18"
    },
    "servers": [
      {
        "tag": "dns_proxy",
        "address": "https://1.1.1.1/dns-query",
        "address_resolver": "dns_resolver",
        "address_strategy": "ipv4_only",
        "detour": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      },
      {
        "tag": "dns_direct",
        "address": "https://doh.pub/dns-query",
        "address_resolver": "dns_resolver",
        "address_strategy": "ipv4_only",
        "detour": "direct"
      },
      { "tag": "dns_fakeip", "address": "fakeip" },
      {
        "tag": "dns_resolver",
        "address": "119.29.29.29",
        "address_strategy": "ipv4_only",
        "detour": "direct"
      }
    ],
    "rules": [
      { "query_type": ["HTTPS", "SVCB"], "server": "dns_resolver" },

      {
        "process_name": [
          "TencentMeeting",
          "NemoDesktop",
          "ToDesk",
          "ToDesk_Service",
          "WeChat",
          "Tailscale",
          "wireguard-go",
          "Tunnelblick",
          "softwareupdated",
          "kubectl"
        ],
        "server": "dns_direct"
      },

      { "clash_mode": "direct", "server": "dns_direct" },
      { "clash_mode": "global", "server": "dns_fakeip" },

      { "domain_suffix": ["233netcloud.com"], "server": "dns_direct" },

      {
        "rule_set": [
          "geosite-cn",
          "geosite-apple",
          "geosite-microsoft",
          "geosite-category-games@cn",
          "steamcn"
        ],
        "server": "dns_direct"
      },
      {
        "rule_set": [
          "geosite-geolocation-!cn",
          "geosite-youtube",
          "geosite-netflix",
          "geosite-disney",
          "geosite-hbo",
          "geosite-hulu",
          "geosite-steam",
          "geosite-epicgames",
          "geosite-xbox",
          "geosite-playstation",
          "geosite-nintendo",
          "geosite-openai",
          "geosite-anthropic",
          "geosite-github",
          "geosite-docker",
          "geosite-tiktok"
        ],
        "server": "dns_fakeip"
      }
    ],
    "final": "dns_proxy"
  },

  "ntp": {
    "enabled": true,
    "server": "ntp.aliyun.com",
    "server_port": 123,
    "interval": "30m",
    "detour": "direct"
  },

  "inbounds": [
    {
      "type": "tun",
      "tag": "tun-in",
      "address": ["172.19.0.1/30"],
      "auto_route": true,
      "strict_route": true,
      "stack": "mixed",
      "sniff": true,
      "sniff_override_destination": false,
      "endpoint_independent_nat": true,
      "udp_timeout": 300
    },
    { "type": "socks", "tag": "socks-in", "listen": "::", "listen_port": 5353 }
  ],

  "outbounds": [
    {
      "type": "selector",
      "tag": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
      "outbounds": [
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "direct"
      ],
      "default": "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
    },
    {
      "type": "urltest",
      "tag": "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
      "outbounds": [
        "ğŸ‡­ğŸ‡° é¦™æ¸¯å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1"
      ],
      "url": "http://cp.cloudflare.com/generate_204",
      "interval": "15m",
      "tolerance": 100
    },

    {
      "type": "selector",
      "tag": "ğŸµ TikTok",
      "outbounds": [
        "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©"
      ],
      "default": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },
    {
      "type": "selector",
      "tag": "ğŸ¬ å›½é™…åª’ä½“",
      "outbounds": [
        "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1"
      ],
      "default": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },
    {
      "type": "selector",
      "tag": "ğŸ¤– AI æœåŠ¡",
      "outbounds": [
        "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1"
      ],
      "default": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },
    {
      "type": "selector",
      "tag": "ğŸ® æ¸¸æˆå¹³å°",
      "outbounds": [
        "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1"
      ],
      "default": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },
    {
      "type": "selector",
      "tag": "ğŸ‘¨â€ğŸ’» å¼€å‘è€…",
      "outbounds": [
        "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
        "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
        "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1"
      ],
      "default": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },

    {
      "password": "0D2603EF-F8A0-63B8-8ADA-A731CEB21C4E",
      "server": "gzcloud.233netcloud.com",
      "server_port": 10113,
      "tag": "ğŸ‡­ğŸ‡° é¦™æ¸¯å®éªŒæ€§ IEPL ä¸“çº¿ 1",
      "type": "trojan",
      "tls": {
        "enabled": true,
        "server_name": "m.ctrip.com",
        "insecure": true,
        "utls": { "enabled": true, "fingerprint": "chrome" }
      }
    },
    {
      "password": "0D2603EF-F8A0-63B8-8ADA-A731CEB21C4E",
      "server": "shcloud.233netcloud.com",
      "server_port": 10123,
      "tag": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬å®éªŒæ€§ IEPL ä¸“çº¿ 1",
      "type": "trojan",
      "tls": {
        "enabled": true,
        "server_name": "m.ctrip.com",
        "insecure": true,
        "utls": { "enabled": true, "fingerprint": "chrome" }
      }
    },
    {
      "password": "0D2603EF-F8A0-63B8-8ADA-A731CEB21C4E",
      "server": "gzcloud.233netcloud.com",
      "server_port": 10133,
      "tag": "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡å®éªŒæ€§ IEPL ä¸“çº¿ 1",
      "type": "trojan",
      "tls": {
        "enabled": true,
        "server_name": "m.ctrip.com",
        "insecure": true,
        "utls": { "enabled": true, "fingerprint": "chrome" }
      }
    },
    {
      "password": "0D2603EF-F8A0-63B8-8ADA-A731CEB21C4E",
      "server": "shcloud.233netcloud.com",
      "server_port": 10153,
      "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½å®éªŒæ€§ IEPL ä¸“çº¿ 1",
      "type": "trojan",
      "tls": {
        "enabled": true,
        "server_name": "m.ctrip.com",
        "insecure": true,
        "utls": { "enabled": true, "fingerprint": "chrome" }
      }
    },

    { "type": "direct", "tag": "direct" }
  ],

  "route": {
    "default_domain_resolver": "dns_resolver",
    "geosite": {
      "path": "./geosite.db",
      "download_url": "https://cdn.jsdelivr.net/gh/DustinWin/ruleset_geodata@sing-box-geodata/geosite.db",
      "download_detour": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
    },
    "rules": [
      { "action": "hijack-dns" },

      { "clash_mode": "direct", "outbound": "direct" },
      { "clash_mode": "global", "outbound": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©" },

      {
        "type": "logical",
        "mode": "and",
        "rules": [
          { "protocol": "quic" },
          { "rule_set": "geosite-cn" }
        ],
        "outbound": "direct"
      },
      {
        "type": "logical",
        "mode": "and",
        "rules": [
          { "protocol": "quic" },
          { "rule_set": "geoip-cn" }
        ],
        "outbound": "direct"
      },

      { "protocol": "quic", "action": "reject" },
      { "protocol": "bittorrent", "action": "reject" },

      { "ip_is_private": true, "outbound": "direct" },
      { "inbound": "socks-in", "outbound": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©" },

      { "rule_set": ["geosite-github", "geosite-docker"], "outbound": "ğŸ‘¨â€ğŸ’» å¼€å‘è€…" },
      { "rule_set": ["geosite-openai", "geosite-anthropic"], "outbound": "ğŸ¤– AI æœåŠ¡" },
      { "rule_set": ["geosite-tiktok"], "outbound": "ğŸµ TikTok" },

      {
        "rule_set": [
          "geosite-youtube",
          "geosite-netflix",
          "geosite-disney",
          "geosite-hbo",
          "geosite-hulu"
        ],
        "outbound": "ğŸ¬ å›½é™…åª’ä½“"
      },

      { "rule_set": ["geosite-category-games@cn"], "outbound": "direct" },
      { "rule_set": ["steamcn"], "outbound": "direct" },

      {
        "rule_set": [
          "geosite-steam",
          "geosite-epicgames",
          "geosite-xbox",
          "geosite-playstation",
          "geosite-nintendo"
        ],
        "outbound": "ğŸ® æ¸¸æˆå¹³å°"
      },

      { "rule_set": ["geosite-apple", "geosite-microsoft"], "outbound": "direct" },
      { "rule_set": ["geosite-cn", "geoip-cn"], "outbound": "direct" },

      {
        "type": "logical",
        "mode": "and",
        "rules": [
          { "rule_set": "geosite-geolocation-!cn" },
          { "rule_set": "geoip-cn", "invert": true }
        ],
        "outbound": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©"
      }
    ],

    "rule_set": [
      {
        "tag": "geosite-apple",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Apple/Apple.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-microsoft",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Microsoft/Microsoft.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-github",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/GitHub/GitHub.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-docker",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Docker/Docker.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-geolocation-!cn",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Proxy/Proxy.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-cn.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-category-games@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-category-games@cn.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-openai",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/OpenAI/OpenAI.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-anthropic",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Anthropic/Anthropic.srs",
        "download_detour": "direct"
      },
      {
        "tag": "steamcn",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/SteamCN/SteamCN.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-steam",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Steam/Steam.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-epicgames",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Epic/Epic.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-xbox",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Xbox/Xbox.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-playstation",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/PlayStation/PlayStation.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-nintendo",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Nintendo/Nintendo.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-tiktok",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/TikTok/TikTok.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-youtube",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/YouTube/YouTube.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-netflix",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Netflix/Netflix.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-disney",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Disney/Disney.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-hbo",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/HBO/HBO.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geosite-hulu",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/Hulu/Hulu.srs",
        "download_detour": "direct"
      },
      {
        "tag": "geoip-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://raw.githubusercontent.com/senshinya/singbox_ruleset/main/rule/ChinaMax/ChinaMax.srs",
        "download_detour": "direct"
      }
    ],

    "final": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
    "auto_detect_interface": true
  },

  "experimental": {
    "cache_file": { "enabled": true, "path": "cache.db", "store_fakeip": true },
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "metacubexd",
      "external_ui_download_url": "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "ğŸš€ èŠ‚ç‚¹é€‰æ‹©",
      "default_mode": "rule"
    }
  }
}